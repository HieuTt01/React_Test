(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports=a(15)},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),l=a.n(s),i=(a(8),a(1)),o=a(2),c=a(4),m=a(3),u=a(5),d=a(6),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).linkList=function(){a.props.closeForm()},a.handleAddUser=function(e){e.preventDefault(),console.log(a.state),a.props.AddUser(a.state),a.linkList()},a.isChangedInfo=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(d.a)({},t,n))},a.state={id:"",name:"",email:"",date:"",username:"",password:"",sex:"1",general_introduction:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleAddUser},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Add New User"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Id"),r.a.createElement("input",{name:"id",type:"text",className:"form-control",value:this.state.id,onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{name:"name",type:"text",className:"form-control",value:this.state.name,onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",value:this.state.email,onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date of birth"),r.a.createElement("input",{name:"date",type:"date",className:"form-control",value:this.state.date,onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{name:"username",type:"text",className:"form-control",value:this.state.username,onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",value:this.state.password,onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sex"),r.a.createElement("select",{name:"sex",value:this.state.sex,className:"form-control",onChange:this.isChangedInfo},r.a.createElement("option",{value:"1"},"Male"),r.a.createElement("option",{value:"2"},"Female"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"General introduction"),r.a.createElement("input",{name:"general_introduction",type:"text",value:this.state.general_introduction,className:"form-control",onChange:this.isChangedInfo})),r.a.createElement("button",{type:"submit",style:{marginRight:"5px"},className:"btn btn-primary"},"Add"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.linkList},"Back")))}}]),t}(n.Component),p=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).linkList=function(){a.props.closeForm()},a.deleteUser=function(){a.props.deleteUser(a.props.useredit.id)},a.handleEditUser=function(e){e.preventDefault(),a.props.editUser(a.state),a.linkList()},a.isChangedInfo=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(d.a)({},t,n))},a.state={id:"",name:"",email:"",date:"",username:"",password:"",sex:"1",general_introduction:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.useredit&&this.setState({id:this.props.useredit.id,name:this.props.useredit.name,email:this.props.useredit.email,date:this.props.useredit.date,username:this.props.useredit.username,password:this.props.useredit.password,sex:this.props.useredit.sex,general_introduction:this.props.useredit.general_introduction})}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleEditUser},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Edit Info User"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Id"),r.a.createElement("input",{name:"id",type:"text",className:"form-control",value:this.state.id,onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{name:"name",type:"text",value:this.state.name,className:"form-control",onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{name:"email",type:"email",value:this.state.email,className:"form-control",onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date of birth"),r.a.createElement("input",{name:"date",type:"date",value:this.state.date,className:"form-control",onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{name:"username",type:"text",className:"form-control",value:this.state.username,onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{name:"password",type:"password",value:this.state.password,className:"form-control",onChange:this.isChangedInfo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sex"),r.a.createElement("select",{name:"sex",value:this.state.sex,className:"form-control",onChange:this.isChangedInfo},r.a.createElement("option",{value:"1"},"Male"),r.a.createElement("option",{value:"2"},"Female"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"General introduction"),r.a.createElement("input",{name:"general_introduction",type:"text",value:this.state.general_introduction,className:"form-control",onChange:this.isChangedInfo})),r.a.createElement("button",{type:"submit",style:{marginRight:"5px"},className:"btn btn-primary"},"Edit"),r.a.createElement("button",{type:"button",style:{marginRight:"850px"},className:"btn btn-default",onClick:this.linkList},"Back"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){window.confirm("B\u1ea1n c\xf3 mu\u1ed1n x\xf3a user : "+e.state.username)&&(e.deleteUser(t),e.linkList())}},"Delete")))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).deleteUser=function(){a.props.deleteUser(a.props.user.id)},a.preEditUser=function(){a.props.preEditUser(a.props.user.id)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"convertSex",value:function(e){return"1"===e?"Male":"2"===e?"Female":""}},{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.date),r.a.createElement("td",null,r.a.createElement("p",null,this.convertSex(t.sex))),r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.password),r.a.createElement("td",null,r.a.createElement("textarea",{readOnly:!0,value:t.general_introduction})),r.a.createElement("td",null,r.a.createElement("button",{type:"button",style:{marginRight:"5px"},className:"btn btn-info",onClick:function(t){e.preEditUser(t)}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(a){window.confirm("B\u1ea1n c\xf3 mu\u1ed1n x\xf3a user : "+t.username)&&e.deleteUser(a)}},"Delete")))}}]),t}(r.a.Component),f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).isChangeName=function(e){var t=e.target.value;a.props.searchName(t)},a.isChangeEmail=function(e){var t=e.target.value;a.props.searchEmail(t)},a.isChangeDate=function(e){var t=e.target.value;a.props.searchDate(t)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderUser",value:function(){var e=this;return this.props.userlist.map((function(t,a,n){return r.a.createElement(E,{key:t.id,user:t,deleteUser:e.props.deleteUser,preEditUser:e.props.preEditUser})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"divover"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Date of birth"),r.a.createElement("th",null,"Sex"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Password"),r.a.createElement("th",null,"General introduction"),r.a.createElement("th",{style:{width:80}},"Option")),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"tex",onChange:this.isChangeId})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"tex",onChange:this.isChangeName})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"tex",onChange:this.isChangeEmail})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"tex",onChange:this.isChangeDate})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"tex"})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"tex"})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"tex"})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"tex"})),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.renderUser())))}}]),t}(r.a.Component),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).addStatus=function(){a.setState({showAddForm:!0,showEditForm:!1})},a.editStatus=function(){a.setState({showAddForm:!1,showEditForm:!0})},a.closeForm=function(){a.setState({showAddForm:!1,showEditForm:!1})},a.AddUser=function(e){var t=a.state.userlist;t.push(e),a.setState({userlist:t}),localStorage.setItem("userlist",JSON.stringify(t))},a.deleteUser=function(e){var t=a.state.userlist,n=a.findIndex(e);-1!==n&&(t.splice(n,1),a.setState({userlist:t}),localStorage.setItem("userlist",JSON.stringify(t)))},a.preEditUser=function(e){var t=a.findIndex(e),n=a.state.userlist[t];a.setState({useredit:n}),a.editStatus()},a.editUser=function(e){var t=a.findIndex(e.id),n=a.state.userlist;n[t]=e,a.setState({userlist:n}),localStorage.setItem("userlist",JSON.stringify(n))},a.findIndex=function(e){var t=a.state.userlist,n=-1;return t.forEach((function(t,a){t.id===e&&(n=a)})),n},a.searchName=function(e){var t=[],n=a.state.userlist;if(""===e){n=JSON.parse(localStorage.getItem("userlist"));a.setState({userlist:n})}else{for(var r=0;r<n.length;r++)-1!==n[r].name.indexOf(e)&&t.push(n[r]);a.setState({userlist:t})}console.log(n)},a.searchEmail=function(e){var t=[],n=a.state.userlist;if(""===e){n=JSON.parse(localStorage.getItem("userlist"));a.setState({userlist:n})}else{for(var r=0;r<n.length;r++)-1!==n[r].email.indexOf(e)&&t.push(n[r]);a.setState({userlist:t})}},a.searchDate=function(e){var t=[],n=a.state.userlist;if(""===e){n=JSON.parse(localStorage.getItem("userlist"));a.setState({userlist:n})}else{for(var r=0;r<n.length;r++)-1!==n[r].date.indexOf(e)&&t.push(n[r]);a.setState({userlist:t})}},a.state={showAddForm:!1,showEditForm:!1,userlist:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){if(localStorage&&localStorage.getItem("userlist")){var e=JSON.parse(localStorage.getItem("userlist"));this.setState({userlist:e})}}},{key:"render",value:function(){var e=this.state.userlist;return!0===this.state.showEditForm?r.a.createElement(p,{useredit:this.state.useredit,editUser:this.editUser,deleteUser:this.deleteUser,closeForm:this.closeForm}):!0===this.state.showAddForm?r.a.createElement(h,{AddUser:this.AddUser,closeForm:this.closeForm}):r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn btn-primary col-xs-1",onClick:this.addStatus},"Add User"),r.a.createElement("br",null),r.a.createElement("h2",null,"User List"),r.a.createElement(f,{deleteUser:this.deleteUser,preEditUser:this.preEditUser,searchName:this.searchName,searchEmail:this.searchEmail,searchDate:this.searchDate,userlist:e}))}}]),t}(n.Component);l.a.render(r.a.createElement(g,null),document.getElementById("root"))},8:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.b16f0d0a.chunk.js.map